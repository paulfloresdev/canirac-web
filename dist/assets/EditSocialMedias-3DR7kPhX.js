import{c as w,d as N,f as E,e as I,r as a,j as e}from"./index-CsZ0w_GZ.js";import{C as O}from"./Combobox-B_jB4_GA.js";import{D as U}from"./Drawer-CLs5twCO.js";import{I as V}from"./Input-Bqd8-Stj.js";import{a as C}from"./fetch-BYPxA0rK.js";import"./TabFlag-DqMcl6yo.js";import"./url-BdNy_9Mu.js";const B=()=>{const{token:s}=w(),l=N(),u=E(),{showSnackbar:o}=I(),[m,c]=a.useState(!1),{socialmedia:r}=u.state||{},[f]=a.useState(r.id),[t,p]=a.useState(r.type),[x,b]=a.useState(r.label),[i,g]=a.useState(r.url),[n,h]=a.useState(!1),v=[{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"},{value:"x",label:"X"},{value:"youtube",label:"Youtube"}];a.useEffect(()=>{s||l("/admin/login")},[s,l]),a.useEffect(()=>{b(t.charAt(0).toUpperCase()+t.slice(1))},[t]);const y=async S=>{S.preventDefault();const d=i==="";if(h(d),!d){if(!s){o("Error de autenticación.","error"),l("/admin/login");return}c(!0);const j=JSON.stringify({type:t,label:x,url:i});try{await C("social-medias",f,j,s),o("Red social actualizada correctamente.","success"),l("/admin/redes-sociales")}catch(k){o(`Ocurrió un error al guardar los datos. ${k}`,"error")}finally{c(!1)}}};return e.jsxs("div",{className:"h-screen flex flex-col lg:flex-row",children:[e.jsx(U,{page:6}),e.jsx("div",{className:"flex-1 flex-col space-y-4 overflow-y-auto h-full bg-background-darker dark:bg-background-deep p-16",children:e.jsx("form",{onSubmit:y,children:e.jsxs("div",{className:"bg-accent dark:bg-accent-dark rounded-custom p-8 flex flex-col",children:[e.jsx("span",{className:"font-normal mb-8",children:"Editar red social"}),e.jsxs("div",{className:"w-full flex flex-row space-x-4 items-end",children:[e.jsx("div",{className:"w-2/12",children:e.jsx(O,{label:"Red social",options:v,selectedOption:t,setSelectedOption:p,status:n})}),e.jsx("div",{className:"w-8/12",children:e.jsx(V,{type:"text",label:"Vínculo",value:i,setValue:g,maxLength:512,status:n,width:"w-full"})}),e.jsx("button",{type:"submit",className:"w-2/12 h-9 bg-primary hover:bg-primary-dark text-selected-dark px-2 py-1 rounded-lg text-sm font-medium mx-auto",children:m?"Guardando...":"Guardar"})]})]})})})]})};export{B as default};
