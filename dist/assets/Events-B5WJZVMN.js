import{r as l,j as e,u as g,c as p,L as h}from"./index-BgHAPFty.js";import{H as j,F as v}from"./Header-D25Eto3m.js";import{u as b}from"./useFetch-B2zxbEOE.js";import"./fetch-DXQ-Dk4T.js";import"./url-BdNy_9Mu.js";const N=({children:s,interval:o=1e4})=>{const[a,i]=l.useState(0),u=n=>{i(n)};return l.useEffect(()=>{const n=setInterval(()=>{i(r=>r===s.length-1?0:r+1)},o);return()=>clearInterval(n)},[s.length,o]),e.jsxs("div",{className:"carousel-container relative overflow-hidden w-full max-w-full",children:[e.jsx("div",{className:"carousel-slides flex transition-transform duration-1000",style:{transform:`translateX(-${a*100}%)`},children:s.map((n,r)=>e.jsx("div",{className:"carousel-slide flex-shrink-0 w-full h-full",children:n},r))}),e.jsx("div",{className:"carousel-dots absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-2",children:s.map((n,r)=>e.jsx("button",{onClick:()=>u(r),className:`w-5 h-3 rounded-full ${a===r?"bg-primary":"bg-border dark:bg-border-dark"}`},r))})]})},d={sm:640,md:768,lg:1024,xl:1280},f=s=>s>=d.xl?"xl":s>=d.lg?"lg":s>=d.md?"md":(s>=d.sm,"sm"),k=()=>{const[s,o]=l.useState(()=>f(window.innerWidth));return l.useEffect(()=>{const a=()=>{o(f(window.innerWidth))};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]),s},F=()=>{const{language:s}=g(),o=new FormData;o.append("filter","upcoming");const{data:a,isLoading:i,error:u,refetch:n}=b("events",o,s),r=p(),m=k();l.useEffect(()=>{n()},[s]);const x=t=>{r("/eventos/detalle",{state:{event:t}})};if(i)return e.jsx(h,{});if(u)return e.jsx("div",{className:"text-center text-red-500",children:"Error al cargar eventos. Por favor, intenta nuevamente."});const c=a==null?void 0:a.data;return!c||c.length===0?e.jsx("div",{className:"text-center text-gray-500",children:"No hay eventos disponibles en este momento."}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col min-h-screen w-full h-auto bg-background dark:bg-background-dark",children:[e.jsx(j,{page:2,isMutable:!1}),e.jsxs("div",{className:"w-content mx-auto mt-20 space-y-4 mb-12",children:[e.jsx("span",{className:"font-normal",children:"Listado de eventos"}),m==="sm"||m==="xs"?e.jsx("div",{className:"w-full space-y-4",children:c.map(t=>e.jsx("div",{onClick:()=>x(t),className:"rounded-custom cursor-pointer",children:e.jsx("img",{src:t.img_path,alt:t.title,className:"w-full h-auto rounded-custom"})},t.id))}):e.jsx(N,{children:c.map(t=>e.jsxs("div",{onClick:()=>x(t),className:"rounded-custom cursor-pointer",children:[e.jsx("img",{src:t.img_path,alt:t.title,className:"w-content h-banner-mob lg:h-banner mx-auto rounded-custom"}),e.jsx("div",{className:"h-8"})]},t.id))})]}),e.jsx(v,{})]})})};export{F as default};
